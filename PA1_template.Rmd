---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data


Before we go and download the data, let's first grab the date: `r Sys.Date()`. Next get the data from the web. The file comes from a repository in my GitHub account that was forked from the original.

```{r download}
source_url <- "https://raw.githubusercontent.com/ASonCourse/RepData_PeerAssessment1/master/activity.zip"

download.file(source_url, destfile = "activity.zip", 
              method = "curl")
```

The downloaded file was compressed, so we will unzip it now:

```{r unzip}
unzip("activity.zip", exdir = ".")
```

It turns out the unzipped file is a comma separated file. We can import that into R easily:

```{r import}
activity <- read.csv("activity.csv", stringsAsFactors = FALSE)
```

The `date` variable in `activity` is of type character and needs to be converted to `date`:

```{r char_to_date}
activity$date <- as.Date(activity$date, format = "%Y-%m-%d")
```

This concludes the loading and preprocessing of the data. [Element #1 required for a complete submission ("Code for reading in the dataset and/or processing the data.")]


## What is mean total number of steps taken per day?


Since we'll be using `group_by()` and related commands to figure this out we need to install and load the `dplyr` package:

```{r install_dplyr, message=FALSE, warning=FALSE}
options(repos="https://cran.rstudio.com" )
if (!require(dplyr)) install.packages("dplyr")
library(dplyr)
```

NOTE:

Installing packages by means of R Markdown (`knitr` document) is not advised. The consensus seems to be that users should manage their own package library. We should assume that people know how to install a missing package. Here we've opted to download and install the package _only_ if it's necessary. Arguably a number of users might have dplyr installed / loaded already. See this [resource](https://stackoverflow.com/questions/33969024/install-packages-fails-in-knitr-document-trying-to-use-cran-without-setting-a) for more on the subject.

Calculate mean total number of steps per day:

```{r mean_total_steps}
mean_total_steps <- activity %>%
  group_by(date) %>%
  summarise (daily_steps = sum(steps)) %>%
  summarise(mean_total_steps = mean(daily_steps, na.rm = TRUE))

mean_steps <- round(mean_total_steps, 0)
```

Result: `r as.integer(mean_steps)` steps. How about the median? Let's calculate the median aswell:

```{r median_total_steps}
median_total_steps <- activity %>%
  group_by(date) %>%
  summarise (daily_steps = sum(steps)) %>%
  summarise(mean_total_steps = median(daily_steps, na.rm = TRUE))

median_steps <- round(mean_total_steps, 0)
```

Result: `r as.integer(median_steps)` steps.

So, mean and median are equal! [Element #3 required for a complete submission ("Mean and median number of steps taken each day.")]

How about a plot? Yes, let's create a histogram of the total number of steps taken each day:

```{r histogram_daily_steps}
steps_by_day <- activity %>%
  group_by(date) %>%
  summarise (daily_steps = sum(steps))

hist(steps_by_day$daily_steps,
    main = "Daily Total Steps",
    xlab = "Steps / Day")
```

An alternative way of visualizing the total number of steps taken each day is by means of a boxplot:

```{r boxplot_daily_steps}
boxplot(steps_by_day$daily_steps)
```

The histogram shows that on most days the number of steps lies between 10.000 and 15.000. The boxplot clearly shows the mean / median and that there are a couple of outliers. [Element #2 required for a complete submission ("Histogram of the total number of steps taken each day.")]

## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
